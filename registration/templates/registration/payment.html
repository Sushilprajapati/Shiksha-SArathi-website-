{% extends 'registration/base.html' %}

{% block content %}
<h1>Payment for {{ participant.full_name }}</h1>
<p>Amount: â‚¹100</p>

<!-- Razorpay Payment Button -->
<form id="razorpay-form">
    <script src="https://checkout.razorpay.com/v1/checkout.js"
            data-key="{{ razorpay_key_id }}"
            data-amount="10000"  <!-- amount in paise -->
            data-currency="INR"
            data-order_id="{{ razorpay_order.id }}"
            data-buttontext="Pay with Razorpay"
            data-name="My Tuition Website"
            data-description="Course Payment"
            data-prefill.name="{{ participant.full_name }}"
            data-prefill.email="{{ participant.email }}"
            data-theme.color="#528FF0">
    </script>
    <input type="hidden" custom="Hidden Element" name="hidden">
</form>

<script>
    // Optional: handle form submission after payment success
    document.getElementById('razorpay-form').onsubmit = function(e) {
        e.preventDefault();
    };
</script>
{% endblock %}
